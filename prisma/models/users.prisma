model Users {
  id Int @id @default(autoincrement())
  firstName String
  lastName String
  age Int?
  email String @unique
  password String
  avatar String?
  acceptTerms Boolean @default(false)
  isOnline Boolean @default(false)
  createdAt DateTime @default(now())
  tokens UserTokens[]
  messages Messages[]
  userConversations UserConversations[]
  // resetPasswordHashes ResetPasswordHashes[]
}

model UserTokens {
  id Int @id @default(autoincrement())
  refreshTokenHash String
  user Users @relation(fields: [userId], references: [id])
  userId Int
  createdAt DateTime @default(now())
}

model UserConversations {
  id Int @id @default(autoincrement())
  conversation Conversations @relation(fields: [conversationId], references: [id])
  conversationId Int
  user Users @relation(fields: [userId], references: [id])
  userId Int
}

model Conversations {
  id Int @id @default(autoincrement())
  type String
  createdAt DateTime @default(now())
  messages Messages[]
  userConversations UserConversations[]
}

model Messages {
  id Int @id @default(autoincrement())
  text String
  isRead Boolean @default(false)
  createdAt DateTime @default(now())
  conversation Conversations @relation(fields: [conversationId], references: [id])
  conversationId Int
  user Users @relation(fields: [userId], references: [id])
  userId Int
}

// model ResetPasswordHashes {
//   hash String @id @default(uuid())
//   used Boolean @default(false)
//   user Users @relation(fields: [userId], references: [id])
//   userId Int
//   createdAt DateTime @default(now())
// }

